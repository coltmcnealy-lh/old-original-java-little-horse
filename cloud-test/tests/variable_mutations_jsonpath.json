{
  "wf_spec": {
    "name": "variable_mutations_jsonpath",
    "entrypointThreadName": "entrypointThread",
    "threadSpecs": {
      "entrypointThread": {
        "variableDefs": {
          "my-int": {"type": "INT"},
          "my-null-int": {"type": "INT"},
          "my-str": {"type": "STRING"},
          "my-null-str": {"type": "STRING"},
          "my-bool": {"type": "BOOLEAN"},
          "my-null-bool": {"type": "BOOLEAN"},
          "my-object": {"type": "OBJECT"},
          "my-null-object": {"type": "OBJECT"},
          "my-array": {"type": "ARRAY"},
          "my-null-array": {"type": "ARRAY"},
          "my-double": {"type": "DOUBLE"},
          "my-null-double": {"type": "DOUBLE"}
        },
        "edges": [
          {
            "sourceNodeName": "intnode",
            "sinkNodeName": "strnode"
          },
          {
            "sourceNodeName": "strnode",
            "sinkNodeName": "boolnode"
          },
          {
            "sourceNodeName": "boolnode",
            "sinkNodeName": "doublenode"
          },
          {
            "sourceNodeName": "doublenode",
            "sinkNodeName": "objnode"
          },
          {
            "sourceNodeName": "objnode",
            "sinkNodeName": "arrnode"
          }
        ],
        "nodes": {
          "intnode": {
            "nodeType": "TASK",
            "taskDefName": "json_with_int",
            "variableMutations": {
              "my-int": {
                "jsonPath": "$.my-int",
                "operation": "ASSIGN"
              },
              "my-null-int": {
                "jsonPath": "$.my-null-int",
                "operation": "ASSIGN"
              }
            }
          },
          "strnode": {
            "nodeType": "TASK",
            "taskDefName": "json_with_str",
            "variableMutations": {
              "my-str": {
                "jsonPath": "$.my-str",
                "operation": "ASSIGN"
              },
              "my-null-str": {
                "jsonPath": "$.my-null-str",
                "operation": "ASSIGN"
              }
            }
          },
          "boolnode": {
            "nodeType": "TASK",
            "taskDefName": "json_with_bool",
            "variableMutations": {
              "my-bool": {
                "jsonPath": "$.my-true-bool",
                "operation": "ASSIGN"
              },
              "my-null-bool": {
                "jsonPath": "$.my-null-bool",
                "operation": "ASSIGN"
              }
            }
          },
          "doublenode": {
            "nodeType": "TASK",
            "taskDefName": "json_with_double",
            "variableMutations": {
              "my-double": {
                "jsonPath": "$.my-double",
                "operation": "ASSIGN"
              },
              "my-null-double": {
                "jsonPath": "$.my-null-double",
                "operation": "ASSIGN"
              }
            }
          },
          "objnode": {
            "nodeType": "TASK",
            "taskDefName": "json_with_object",
            "variableMutations": {
              "my-object": {
                "jsonPath": "$.my-json",
                "operation": "ASSIGN"
              },
              "my-null-object": {
                "jsonPath": "$.my-null-json",
                "operation": "ASSIGN"
              }
            }
          },
          "arrnode": {
            "nodeType": "TASK",
            "taskDefName": "json_with_array",
            "variableMutations": {
              "my-array": {
                "jsonPath": "$.my-array",
                "operation": "ASSIGN"
              },
              "my-null-array": {
                "jsonPath": "$.my-null-array",
                "operation": "ASSIGN"
              }
            }
          }
        }
      }
    }
  },

  "test_cases": [
    {
      "command": {},
      "timeout": 1.5,
      "output": [
        {
          "tr_number": 0,
          "variables": {
            "my-int": 1234,
            "my-null-int": null,
            "my-str": "asdf",
            "my-null-str": null,
            "my-bool": true,
            "my-null-bool": null,
            "my-double": 1.01,
            "my-null-double": null,
            "my-object": {"foo": "bar"},
            "my-null-object": null,
            "my-array": [0, 1, 2],
            "my-null-array": null
          }
        }
      ]
    }
  ],

  "description": "Tests JSONPath assignment of variables of all the supported types."
}
